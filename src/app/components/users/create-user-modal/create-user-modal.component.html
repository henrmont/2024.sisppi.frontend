<mat-toolbar class="title" color="accent">
  <div>
    <mat-icon>person_add</mat-icon>
    <span>Adicionar usuário</span>
  </div>
  <button mat-icon-button mat-dialog-close>
    <mat-icon>close</mat-icon>
  </button>
</mat-toolbar>
<form [formGroup]="formulario" class="box" (ngSubmit)="onSubmit()">

  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
    <mat-form-field appearance="outline">
      <mat-label>Email</mat-label>
      <input matInput type="email" placeholder="email válido" formControlName="email">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Nome</mat-label>
      <input matInput type="text" placeholder="nome do usuário" formControlName="name">
    </mat-form-field>
  </div>

  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
    <mat-form-field appearance="outline">
      <mat-label>Senha</mat-label>
      <input matInput type="password" placeholder="digite a senha" formControlName="password">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Confirmar Senha</mat-label>
      <input matInput type="password" placeholder="digite a senha novamente" formControlName="cpassword">
    </mat-form-field>
  </div>

  <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
    <mat-form-field appearance="outline">
      <mat-label>CPF</mat-label>
      <input matInput type="text" placeholder="XXX.XXX.XXX-XX" [specialCharacters]="['.' ,'-']" mask="000.000.000-00" formControlName="cpf">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Telefone</mat-label>
      <input matInput type="text" placeholder="(XX) XXXX-XXXX" [specialCharacters]="['(' ,')','-',' ']" mask="(00) 0000-0000" formControlName="phone">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Celular</mat-label>
      <input matInput type="text" placeholder="(XX) XXXXX-XXXX" [specialCharacters]="['(' ,')','-',' ']" mask="(00) 00000-0000" formControlName="cell_phone">
    </mat-form-field>
  </div>

  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Município</mat-label>
      <input type="text"
             placeholder="digite o nome do município"
             matInput
             [formControl]="myControl"
             [matAutocomplete]="auto"
             (keyup)="onKeyUp()">
      <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
        @for (option of filteredOptions | async | slice : 0 : 3; track option) {
          <mat-option [value]="option.name" (click)="onSelect(option.id)">{{option.name}}</mat-option>
        }
      </mat-autocomplete>
    </mat-form-field>

    <section style="display: flex; align-items: center;">
      <mat-checkbox class="example-margin" color="primary" formControlName="is_valid">Usuário ativo</mat-checkbox>
    </section>
  </div>

  <button mat-raised-button class="btn" color="primary" type="submit" [disabled]="formulario.invalid">ADICIONAR USUÁRIO</button>
</form>
